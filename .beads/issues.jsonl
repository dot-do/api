{"id":"api-18g","title":"Add webhook signature authentication for event sinks","description":"SECURITY: Webhook event sink at src/conventions/database/do.ts lines 274-280 sends events without authentication headers or signatures.\n\nTDD Steps:\n- RED: Write test verifying webhook requests have no auth\n- GREEN: Add HMAC signature header, support custom auth headers in config\n- REFACTOR: Document webhook verification process for consumers","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:33.119569-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:56:18.992467-06:00","closed_at":"2026-01-24T15:56:18.992467-06:00","close_reason":"TDD implementation complete"}
{"id":"api-1ch","title":"P2: Add standard rate limit headers","description":"Rate limit middleware missing standard headers: Retry-After, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset. Add headers per RFC 6585 and common conventions.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-26T11:35:53.133545-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:40:27.104412-06:00","closed_at":"2026-01-26T11:40:27.104412-06:00","close_reason":"Closed"}
{"id":"api-2cr","title":"Fix placeholder handler pattern in MCP registry","description":"ARCHITECTURE: Database and functions tools are registered with non-functional handlers that return { error: 'Use /mcp endpoint' }. This is an architectural smell.\n\nLocation: src/api.ts lines 82-85, 94-97\n\nTDD Steps:\n- RED: Write test that calls tool handler directly and verify it fails properly\n- GREEN: Either provide real handlers that route to implementation, or mark tools as handlerType: 'route-only'\n- REFACTOR: Consider unified pattern for auto-generated vs explicit tools","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:24.414977-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:40:43.636064-06:00","closed_at":"2026-01-26T11:40:43.636064-06:00","close_reason":"Closed","external_ref":"gh-19"}
{"id":"api-3dm","title":"Remove unknown from Matcher union type in api.qa","description":"TYPESCRIPT: qa/src/types.ts Matcher type includes 'unknown' in the union which makes the entire union effectively unknown, breaking type narrowing.\n\nTDD Steps:\n- RED: Write test showing type narrowing doesn't work on Matcher\n- GREEN: Replace 'unknown' with branded LiteralMatcher type\n- REFACTOR: Add discriminated union pattern for all matcher types","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:33.037233-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T16:04:32.109939-06:00","closed_at":"2026-01-24T16:04:32.109939-06:00","close_reason":"TDD implementation complete"}
{"id":"api-4m1","title":"Fix event buffer overflow behavior (silent event loss)","description":"When eventBuffer exceeds 10000 entries, old events are silently sliced off: this.eventBuffer = this.eventBuffer.slice(-10000). Subscribers miss events with no error or warning. Need: configurable buffer size, warning when approaching limit, proper CDC cursor tracking so subscribers know events were lost.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:54.73226-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T05:43:44.695065-06:00","closed_at":"2026-02-08T05:43:44.695065-06:00","close_reason":"Implemented in hardening wave"}
{"id":"api-4pq","title":"Implement zero-config env auto-discovery","description":"API() with no arguments auto-discovers from import { env } from 'cloudflare:workers': DB/DATABASE = CRUD, AUTH/IDENTITY = auth enabled, EVENTS/PIPELINE = CDC events, OBJECTS = schema discovery (Noun definitions), worker name/route = api.name/url. Progressive: API() for zero-config, API({ score }) adds functions, API({ name, score, plans }) full config.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:55:08.223579-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:13:56.131634-06:00","closed_at":"2026-02-21T14:13:56.131634-06:00","close_reason":"Implemented and committed in Wave 2","dependencies":[{"issue_id":"api-4pq","depends_on_id":"api-nad","type":"blocks","created_at":"2026-02-21T13:55:22.381073-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-4us","title":"P0: Fix prototype pollution in deepMerge utility","description":"deepMerge in src/conventions/functions/utils.ts (lines 105-118) has no protection against prototype pollution. Must reject keys: __proto__, constructor, prototype. TDD: red (test pollution attack), green (add guards), refactor.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-26T11:35:46.76856-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:37:23.157282-06:00","closed_at":"2026-01-26T11:37:23.157282-06:00","close_reason":"Closed"}
{"id":"api-54h","title":"Implement config detection and package wrapping","description":"API() factory distinguishes by value type: function = endpoint, string = config, binding/object = config, object-of-functions = module wrapping. Package wrapping: lodash-style (_.fn endpoints), API clients (stripe.resource.method endpoints), file processing (fetch URL + transform). Detection heuristics: plain functions vs class instances vs modules. Namespace with dot notation.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:33.392302-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:47:00.722818-06:00","closed_at":"2026-02-21T17:47:00.722818-06:00","close_reason":"Closed"}
{"id":"api-54s","title":"Implement unified MCP tool registry pattern","description":"ARCHITECTURE: MCP tools are merged by mutating config objects in api.ts lines 85-104. Database and functions conventions each mount their own /mcp endpoint creating conflicts.\n\nTDD Steps:\n- RED: Write test showing tool registration from multiple conventions\n- GREEN: Create McpToolRegistry class with register/getTools methods, single /mcp endpoint\n- REFACTOR: Remove config mutation, use dependency injection for registry","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:30.792345-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T16:04:32.073523-06:00","closed_at":"2026-01-24T16:04:32.073523-06:00","close_reason":"TDD implementation complete"}
{"id":"api-5e3","title":"Standardize meta field prefix (choose $ or _ consistently)","description":"Input schema uses $ prefix ($id, $name), output documents use _ prefix (_version, _createdAt), config allows toggling metaPrefix. This creates confusion. Either standardize on one prefix throughout, or clearly document the distinction and ensure config actually transforms correctly.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:46.304734-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T06:49:49.206654-06:00","closed_at":"2026-02-08T06:49:49.206654-06:00","close_reason":"Implemented: meta prefix $ default + enum validation"}
{"id":"api-5jy","title":"Remove insecure JWT fallback in auth middleware","description":"CRITICAL SECURITY: Auth middleware at src/middleware/auth.ts lines 60-69 decodes JWT payload WITHOUT signature verification as fallback. Any attacker can craft arbitrary claims.\n\nTDD Steps:\n- RED: Write test that crafts fake JWT with arbitrary claims, verify it's currently accepted\n- GREEN: Remove the fallback entirely OR require explicit 'trustUnverified: true' config\n- REFACTOR: Add logging when verification is skipped, document security implications","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:32.340539-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:45:16.890287-06:00","closed_at":"2026-01-24T15:45:16.890287-06:00","close_reason":"Implemented TDD fix with tests"}
{"id":"api-5od","title":"Implement billing plans with feature gating and usage tracking","description":"Declarative plans config in API(): plans: { free: { rate, quota, entities }, starter: { rate, quota, entities, price }, ... }. Feature gating: per-endpoint plan requirements, features: { free: ['read','search'], starter: [...] }. Usage tracking: automatic per-request metering, usage visible in user block. Rate limit 429 response includes upgrade links. Feature-gated 403 includes upgrade with feature= param. Discovery shows gated functions marked with required plan.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:08.582909-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:36:49.126414-06:00","closed_at":"2026-02-21T17:36:49.126414-06:00","close_reason":"Implemented in Wave 4","dependencies":[{"issue_id":"api-5od","depends_on_id":"api-jyy","type":"blocks","created_at":"2026-02-21T13:55:21.468617-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-5zf","title":"Add unit tests for database convention","description":"TESTING: Database convention at src/conventions/database/ has 0% test coverage for schema parsing, DO operations, event sinks, MCP tools.\n\nTDD Steps:\n- RED: Write failing tests for: parseSchema(), parseField(), parseModel(), generateJsonSchema(), REST endpoints, MCP tool generation, event emission\n- GREEN: Ensure all tests pass\n- REFACTOR: Create comprehensive mock for DatabaseDO","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:37.851533-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:56:18.911837-06:00","closed_at":"2026-01-24T15:56:18.911837-06:00","close_reason":"TDD implementation complete"}
{"id":"api-6ni","title":"Add unit tests for rate limit middleware","description":"TESTING: Rate limit middleware at src/middleware/rateLimit.ts has 0% test coverage.\n\nTDD Steps:\n- RED: Write failing tests for: binding exists and limits, binding missing passes through, key derivation (user id vs IP vs anonymous), rate exceeded response\n- GREEN: Ensure all tests pass\n- REFACTOR: Add mock rate limiter helper to test utilities","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:36.958771-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:56:18.928337-06:00","closed_at":"2026-01-24T15:56:18.928337-06:00","close_reason":"TDD implementation complete"}
{"id":"api-6tq","title":"Add try-catch for JSON parsing in proxy convention","description":"If upstream returns malformed JSON with application/json content-type, the proxy throws an unhandled error.\n\nLocation: src/conventions/proxy.ts lines 68-76\n\nTDD Steps:\n- RED: Write test with mock upstream returning invalid JSON with json content-type\n- GREEN: Wrap response.json() in try-catch, return 502 with error details\n- REFACTOR: Consider similar handling in other conventions","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:21.944362-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:39:44.653449-06:00","closed_at":"2026-01-26T11:39:44.653449-06:00","close_reason":"Closed","external_ref":"gh-20"}
{"id":"api-6wt","title":"Add unit tests for testing convention","description":"TESTING: Testing convention at src/conventions/testing.ts has 0% test coverage. Ironic that the testing framework isn't tested.\n\nTDD Steps:\n- RED: Write failing tests for: test collection from MCP tools, REST endpoint test collection, /qa JSON-RPC endpoint, tests/list, examples/list, schemas/list, tests/run, tag filtering\n- GREEN: Ensure all tests pass\n- REFACTOR: Test the test infrastructure edge cases","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:35.204625-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:49:47.187741-06:00","closed_at":"2026-01-24T15:49:47.187741-06:00","close_reason":"Comprehensive tests implemented"}
{"id":"api-6yp","title":"Implement async jobs for long-running functions","description":"Functions \u003e5s auto-promote to async. Return job object: { id, status: 'running', progress, result: url }. Poll self link until completed. Cancel via /job_abc/cancel. SSE progress via ?stream. Framework detects slow responses, developer doesn't need to know. Job state stored in tenant DO.","status":"closed","priority":3,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:52.941182-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:47:00.729482-06:00","closed_at":"2026-02-21T17:47:00.729482-06:00","close_reason":"Closed"}
{"id":"api-74c","title":"Fix RegistryTool.tests type to match TestCase","description":"TypeScript Error: RegistryTool.tests type is incompatible with TestCase[] causing error in api.ts line 119.\n\nRegistryTool.tests has: { name: string; input: unknown; expect: unknown }[]\nTestCase expects: { name: string; input: unknown; expect: { status: 'success' | 'error'; ... } }[]\n\nLocation: src/mcp-registry.ts line 23\n\nTDD Steps:\n- RED: Run pnpm typecheck and observe error\n- GREEN: Update RegistryTool interface to use TestCase type from testing convention\n- REFACTOR: Ensure type exports are consistent across modules","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:20.534479-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:37:04.387774-06:00","closed_at":"2026-01-26T11:37:04.387774-06:00","close_reason":"Closed","external_ref":"gh-21"}
{"id":"api-7ki","title":"Implement snippet-backed API pattern for parquet datasets","description":"API() with source: { type: 'parquet', bucket: 'r2', key: 'file.parquet' } generates snippet config for \u003c5ms edge queries with predicate pushdown. Worker handles discovery/schema/admin, snippet handles data reads. Build-time snippet manifest generation. For simple read-only datasets, no worker needed. Patterns: words.org.ai, wiki.org.ai, places.org.ai, industries.org.ai.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:37.484896-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:47:00.725007-06:00","closed_at":"2026-02-21T17:47:00.725007-06:00","close_reason":"Closed"}
{"id":"api-7n4","title":"Implement GET mutations with confirmation flow","description":"GET without confirm hash = preview response with confirm block {action, type, preview, execute_url_with_hash, cancel}. GET with ?confirm=hash = direct execution. POST = direct execution. Confirm hash: short-lived, session-bound, one-time. Mutation types: /contacts/create?name=..., /contact_abc/update?status=..., /contact_abc/qualify (verb), /contact_abc/delete, /contact_abc/revert?to=v3. Agent-human handoff pattern.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:51.019675-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:21:54.628203-06:00","closed_at":"2026-02-21T14:21:54.628203-06:00","close_reason":"Implemented in Wave 3","dependencies":[{"issue_id":"api-7n4","depends_on_id":"api-w86","type":"blocks","created_at":"2026-02-21T13:55:20.869099-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-7vr","title":"Add unit tests for pagination helpers","description":"TESTING: helpers/pagination.ts has 0% test coverage.\n\nLocation: src/helpers/pagination.ts\n\nTDD Steps:\n- RED: Write tests for: buildPagination() link generation, buildCursorPagination(), edge cases (empty results, single page, last page)\n- GREEN: All tests should pass\n- REFACTOR: Test off-by-one scenarios","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:26.081724-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T17:47:11.148638-06:00","closed_at":"2026-01-24T17:47:11.148638-06:00","close_reason":"TDD implementation complete"}
{"id":"api-8p5","title":"Add retry logic and dead-letter queue for webhook event sinks","description":"flushToSinks() webhook case calls sendToWebhookSink() with no retry, no backoff, no dead-letter queue. If webhook fails, event is lost. Need exponential backoff, configurable max retries, and dead-letter storage for permanently failed events.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:37.258446-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T05:43:44.693727-06:00","closed_at":"2026-02-08T05:43:44.693727-06:00","close_reason":"Implemented in hardening wave"}
{"id":"api-8w3","title":"Implement map-style default with ?array toggle","description":"Default response for lists should be map-style: { 'Alice Johnson': 'url', 'Bob Smith': 'url' }. ?array query param converts to array: [{ $id: url, id: 'contact_abc', name: 'Alice' }]. Relationships also use map-style by default. Apply to all collections, relationships, search results, discover blocks.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:35.259264-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:13:56.127233-06:00","closed_at":"2026-02-21T14:13:56.127233-06:00","close_reason":"Implemented and committed in Wave 2","dependencies":[{"issue_id":"api-8w3","depends_on_id":"api-nad","type":"blocks","created_at":"2026-02-21T13:55:20.418253-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-91d","title":"Replace unsafe type assertions with proper types","description":"TYPESCRIPT: Multiple unsafe patterns throughout codebase:\n- 'as never' in response.ts line 40\n- 'as unknown' double assertions in context.ts line 9\n- Catching exceptions and casting to Error without checking\n\nTDD Steps:\n- RED: Enable stricter linting for type assertions\n- GREEN: Replace each unsafe assertion with proper type guards or narrowing\n- REFACTOR: Add ESLint rule @typescript-eslint/no-unsafe-type-assertion","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:32.098014-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:56:18.960021-06:00","closed_at":"2026-01-24T15:56:18.960021-06:00","close_reason":"TDD implementation complete"}
{"id":"api-9dd","title":"Validate sortable and searchable columns against SQL injection","description":"CRITICAL: While POST/PUT/PATCH columns are validated via isValidColumnName(), the sortable and searchable config arrays in src/conventions/crud.ts are directly interpolated into SQL without validation.\n\nLocation: src/conventions/crud.ts lines 18-31 (sortable) and 24-28 (searchable)\n\nTDD Steps:\n- RED: Write test with malicious sortable/searchable config values\n- GREEN: Apply isValidColumnName() validation to sortable/searchable entries at API init or request time\n- REFACTOR: Consider validating all config column arrays in a single initialization pass","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:20.18926-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T17:43:50.634813-06:00","closed_at":"2026-01-24T17:43:50.634813-06:00","close_reason":"TDD implementation complete"}
{"id":"api-af2","title":"Add type registry versioning to prevent sqid decode failures","description":"Without explicit typeRegistry, adding a new model shifts all subsequent numeric IDs. Sqids stored and decoded later with new registry decode to wrong type or return null silently. Need: schema version tracking, decode validation that checks registry version, warning when auto-registry used in production.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:42.007221-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T05:43:44.696249-06:00","closed_at":"2026-02-08T05:43:44.696249-06:00","close_reason":"Implemented in hardening wave"}
{"id":"api-bsn","title":"Fix regex DoS vulnerability in filter operators","description":"matchesWhere $regex operator creates RegExp from user input with only a 200-char length check. Patterns like (a+)+b cause exponential backtracking. Need: regex execution timeout (re2js or xregexp), safe pattern validation, or disallow user-supplied regex entirely.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:28.807046-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T05:43:44.689024-06:00","closed_at":"2026-02-08T05:43:44.689024-06:00","close_reason":"Implemented in hardening wave"}
{"id":"api-bxv","title":"Add enum value validation to validateInput()","description":"validateInput() checks required fields and basic types but does NOT validate enum values. A field defined as 'enum(a,b,c)' will accept any string. Need to check submitted value is in the enum set.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:50.617369-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T06:49:49.246723-06:00","closed_at":"2026-02-08T06:49:49.246723-06:00","close_reason":"Implemented: meta prefix $ default + enum validation"}
{"id":"api-c6g","title":"Add unit tests for CORS middleware","description":"TESTING: cors.ts middleware has 0% test coverage.\n\nLocation: src/middleware/cors.ts\n\nTDD Steps:\n- RED: Write tests for: default origin (*), custom origin validation, allowed methods, allowed headers, credentials handling, preflight OPTIONS requests\n- GREEN: All tests should pass (implementation exists)\n- REFACTOR: Add edge case tests","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:21.764161-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T17:47:11.100895-06:00","closed_at":"2026-01-24T17:47:11.100895-06:00","close_reason":"TDD implementation complete"}
{"id":"api-ch0","title":"Implement error shape with actionable links","description":"Every error guarantees: api (always), error (code+message+status), links (at least home), user (always). Error taxonomy: 400 bad_request (schema links), 401 auth_required (login/register), 402 payment_required (x402+upgrade), 403 forbidden (upgrade), 404 not_found (collection/search/create), 409 conflict (current/diff/merge), 422 validation_error (schema+valid values), 429 rate_limited (upgrade+retryAfter), 500 internal_error (status+retry). 409 conflict includes version info and time-travel links.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:21.961945-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:13:56.130287-06:00","closed_at":"2026-02-21T14:13:56.130287-06:00","close_reason":"Implemented and committed in Wave 2","dependencies":[{"issue_id":"api-ch0","depends_on_id":"api-nad","type":"blocks","created_at":"2026-02-21T13:55:21.018409-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-cjc","title":"Implement transport unification (URL/SDK/RPC/MCP)","description":"Same operation across four transports: URL (crm.do/sendContract(deal_kRziM)), SDK ($.sendContract('deal_kRziM')), RPC (POST /rpc path ['sendContract'] args ['deal_kRziM']), MCP (tools/call name sendContract). Entity verbs also unify. Auto-generate MCP tools from functions + CRUD. Auto-generate RPC handlers. Root discovery shows both discover (nouns) and functions (verbs).","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:49.73181-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:36:49.132863-06:00","closed_at":"2026-02-21T17:36:49.132863-06:00","close_reason":"Implemented in Wave 4","dependencies":[{"issue_id":"api-cjc","depends_on_id":"api-r17","type":"blocks","created_at":"2026-02-21T13:55:22.229492-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-cnd","title":"E2E tests for @dotdo/api and apis.do","description":"E2E tests hitting live deployed endpoints. For @dotdo/api: deploy a test worker with all conventions enabled, test full request/response cycle for every pattern (CRUD, functions, mutations, search, auth, billing, x402). For apis.do: test the managed service (deploy API, verify routes, test billing integration). Use vitest with e2e config (30s timeout, pool: forks, retry: 1). Test against both workerd and live Cloudflare.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:55:04.235384-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:36:49.129606-06:00","closed_at":"2026-02-21T17:36:49.129606-06:00","close_reason":"Implemented in Wave 4","dependencies":[{"issue_id":"api-cnd","depends_on_id":"api-cz2","type":"blocks","created_at":"2026-02-21T13:55:22.531868-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-cz2","title":"Comprehensive unit tests with vitest workerd pool","description":"Rewrite all tests to use @cloudflare/vitest-pool-workers (workerd pool) for unit and integration tests. Test all new features: response envelope shape, self-describing ID routing, map/array toggle, dual filter syntax, function-call URLs, GET mutation confirmation flow, meta-resources, error shape, search, auth levels, billing/plans, config detection. Each module needs \u003e90% coverage. Use miniflare for integration tests with mocked bindings.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:55.651772-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:07:09.693524-06:00","closed_at":"2026-02-21T14:07:09.693524-06:00","close_reason":"Implemented and committed"}
{"id":"api-dju","title":"Add unit tests for RPC convention","description":"TESTING: RPC convention at src/conventions/rpc.ts has 0% test coverage.\n\nTDD Steps:\n- RED: Write failing tests for: method listing, method execution via binding, nested method paths (a.b.c), unknown method error, whitelist validation\n- GREEN: Ensure all tests pass\n- REFACTOR: Add integration tests with mock bindings","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:33.989235-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:49:47.172588-06:00","closed_at":"2026-01-24T15:49:47.172588-06:00","close_reason":"Comprehensive tests implemented"}
{"id":"api-dv4","title":"Add noUncheckedIndexedAccess to tsconfig","description":"TYPESCRIPT: tsconfig.json is missing noUncheckedIndexedAccess which allows unsafe array/object access without undefined checks.\n\nTDD Steps:\n- RED: Add the flag, observe type errors throughout codebase\n- GREEN: Fix all type errors by adding proper undefined checks\n- REFACTOR: Consider adding other strict flags (exactOptionalPropertyTypes, noPropertyAccessFromIndexSignature)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:30.174048-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:56:18.975135-06:00","closed_at":"2026-01-24T15:56:18.975135-06:00","close_reason":"TDD implementation complete"}
{"id":"api-e7l","title":"Implement dual filter syntax (symbolic + dot-suffix)","description":"Support both symbolic shorthand (?amount\u003e10000, ?status!=Churned, ?name~alice) and canonical dot-suffix (?amount.gt=10000, ?status.not=Churned, ?name.contains=alice). Both produce same internal MongoDB-style filter. links.self always uses canonical dot-suffix form. Additional ops: .starts, .ends, .exists, .between, .nin, .in. Complex queries via POST with MongoDB-style filter body.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:43.694085-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:13:56.128983-06:00","closed_at":"2026-02-21T14:13:56.128983-06:00","close_reason":"Implemented and committed in Wave 2","dependencies":[{"issue_id":"api-e7l","depends_on_id":"api-nad","type":"blocks","created_at":"2026-02-21T13:55:20.568985-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-eb6","title":"Integrate x402 HTTP-native micropayments","description":"Integrate @x402/hono middleware for pay-per-call via USDC. Add paygo plan with per-endpoint pricing in plans config. 402 response includes payment block (amount, currency, networks, facilitator) + upgrade links to subscription plans. Framework auto-applies x402 middleware to priced endpoints. Agent can pay autonomously with PAYMENT-SIGNATURE header.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:18.972293-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:47:00.726897-06:00","closed_at":"2026-02-21T17:47:00.726897-06:00","close_reason":"Closed","dependencies":[{"issue_id":"api-eb6","depends_on_id":"api-5od","type":"blocks","created_at":"2026-02-21T13:55:21.618619-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-ebm","title":"Add path validation to prevent SSRF in proxy convention","description":"SECURITY: Proxy convention at src/conventions/proxy.ts lines 7-17 allows arbitrary path manipulation without validation. Could allow access to internal services.\n\nTDD Steps:\n- RED: Write test attempting directory traversal (/../internal) and absolute path injection\n- GREEN: Add path normalization, block .. sequences, validate against allowed paths\n- REFACTOR: Extract path validation to reusable utility","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:33.211345-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:45:16.905635-06:00","closed_at":"2026-01-24T15:45:16.905635-06:00","close_reason":"Implemented TDD fix with tests"}
{"id":"api-eoa","title":"Implement cross-type search with faceted search","description":"GET /~tenant/search?q=term returns mixed entity types using semantic payload keys (contacts, deals, activities as separate keys). With ?array, uses generic results key with type field. Options include narrowing links (Only contacts, Only deals). Faceted search at /collection/$facets returns filterable fields with clickable value links + counts: { status: { Active: { count: 523, url: '...' } } }.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:25.550905-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:36:49.13134-06:00","closed_at":"2026-02-21T17:36:49.13134-06:00","close_reason":"Implemented in Wave 4","dependencies":[{"issue_id":"api-eoa","depends_on_id":"api-nad","type":"blocks","created_at":"2026-02-21T13:55:21.773603-06:00","created_by":"Nathan Clevenger"},{"issue_id":"api-eoa","depends_on_id":"api-w86","type":"blocks","created_at":"2026-02-21T13:55:21.925696-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-epa","title":"Add schema validation for database convention inputs","description":"SECURITY: Database convention at src/conventions/database/index.ts lines 86-97 parses request body without validation against the parsed schema.\n\nTDD Steps:\n- RED: Write test sending invalid/malicious data that doesn't match schema\n- GREEN: Validate incoming data against generateJsonSchema() before database operations\n- REFACTOR: Create reusable validation middleware, integrate with Zod or similar","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:34.524968-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:49:47.143268-06:00","closed_at":"2026-01-24T15:49:47.143268-06:00","close_reason":"Comprehensive tests implemented"}
{"id":"api-ewg","title":"Remove unused executeToolCall function","description":"TypeScript Error: Function executeToolCall is declared but never used after MCP registry refactor.\n\nLocation: src/conventions/database/index.ts line 508\n\nTDD Steps:\n- RED: Run pnpm typecheck and observe unused function error\n- GREEN: Remove the dead code\n- REFACTOR: Search for any other dead code from MCP unification","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:21.378955-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T17:49:39.665043-06:00","closed_at":"2026-01-24T17:49:39.665043-06:00","close_reason":"TDD implementation complete"}
{"id":"api-f3u","title":"Replace in-memory Map storage in DatabaseDO with persistent backend","description":"DatabaseDO uses in-memory Map\u003cstring, Map\u003cstring, Document\u003e\u003e with periodic checkpoint to DO storage. Unbounded growth, no indexing, O(n) scans, checkpoint serializes ALL data blocking the DO. Need to integrate @dotdo/db (ParqueDB) or SQLite as persistent backend. This is the #1 production blocker.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:23.861521-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T05:43:44.692246-06:00","closed_at":"2026-02-08T05:43:44.692246-06:00","close_reason":"Implemented in hardening wave"}
{"id":"api-h2r","title":"Fix duplicate type definitions","description":"TYPESCRIPT: Several types are defined in multiple places:\n- TestingConfig: src/types.ts, src/conventions/testing.ts, qa/src/types.ts\n- EventSinkConfig: src/types.ts, src/conventions/database/types.ts\n\nTDD Steps:\n- RED: Write test importing types from multiple locations, verify they diverge\n- GREEN: Consolidate to single source of truth, re-export from other locations\n- REFACTOR: Add lint rule to prevent duplicate type definitions","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:31.09578-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T16:04:32.128424-06:00","closed_at":"2026-01-24T16:04:32.128424-06:00","close_reason":"TDD implementation complete"}
{"id":"api-h2z","title":"Implement ?domains toggle and ?stream SSE","description":"?domains switches all links from path-style (apis.do/events) to domain-style (events.do). ?stream upgrades JSON response to SSE event stream. Same URL, different representation. Also: ?raw (strip frame), ?debug (add metadata), ?format=md (markdown for agents).","status":"closed","priority":3,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:40.510528-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T17:47:00.728133-06:00","closed_at":"2026-02-21T17:47:00.728133-06:00","close_reason":"Closed"}
{"id":"api-hjm","title":"Implement discoverable meta-resources","description":"Add $-prefixed meta-resource endpoints: $schema (JSON Schema), $pageSize (clickable page size options), $facets (filterable fields with clickable value links + counts), $pages (clickable page links), $sort (available sort orders as links), $count (total count), $distinct/field (unique values with counts), $history (version history with time-travel links), $events (CDC event stream), $snippet (snippet config for edge deployment).","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:59.456811-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:21:54.631462-06:00","closed_at":"2026-02-21T14:21:54.631462-06:00","close_reason":"Implemented in Wave 3","dependencies":[{"issue_id":"api-hjm","depends_on_id":"api-w86","type":"blocks","created_at":"2026-02-21T13:55:22.07453-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-i1a","title":"P0: Validate table/model names against SQL injection","description":"Database convention doesn't validate table/model names from config. Malicious names like 'users; DROP TABLE users--' could cause SQL injection. TDD: red (test malicious table name), green (add validateTableName), refactor.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-26T11:35:47.81803-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:38:00.840214-06:00","closed_at":"2026-01-26T11:38:00.840214-06:00","close_reason":"Closed"}
{"id":"api-i2l","title":"Add direct unit tests for SQL validation helpers","description":"TESTING: helpers/sql-validation.ts is only tested indirectly via CRUD tests.\n\nLocation: src/helpers/sql-validation.ts\n\nTDD Steps:\n- RED: Write direct unit tests for: isValidColumnName() with valid/invalid patterns, isAllowedColumn() with whitelist, validateColumns() batch validation\n- GREEN: All tests should pass\n- REFACTOR: Test SQL injection attack patterns","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:27.515242-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T17:49:39.648786-06:00","closed_at":"2026-01-24T17:49:39.648786-06:00","close_reason":"TDD implementation complete"}
{"id":"api-ir0","title":"P1: Add unit tests for helpers/links.ts","description":"links.ts (createLinkBuilder) has no dedicated tests. Add comprehensive tests for link generation, pagination links, action links. TDD approach.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-26T11:35:52.355818-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:37:38.094238-06:00","closed_at":"2026-01-26T11:37:38.094238-06:00","close_reason":"Closed"}
{"id":"api-jyy","title":"Implement auth levels L0-L3 with agent self-registration","description":"Progressive auth: L0 (anonymous, heavy rate limits), L1 (agent self-reg with API key), L2 (claimed via GitHub commit or OAuth/email via WorkOS), L3 (verified org with SSO). User block reflects level. Agent self-registration at /register returns API key. Claim flows: GitHub (.agents.json commit verification) and OAuth redirect to id.org.ai. Access control: auth: true (L1+), auth: 'claimed' (L2+), auth: 'verified' (L3).","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:54:04.365671-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:21:54.629996-06:00","closed_at":"2026-02-21T14:21:54.629996-06:00","close_reason":"Implemented in Wave 3","dependencies":[{"issue_id":"api-jyy","depends_on_id":"api-nad","type":"blocks","created_at":"2026-02-21T13:55:21.167641-06:00","created_by":"Nathan Clevenger"},{"issue_id":"api-jyy","depends_on_id":"api-w86","type":"blocks","created_at":"2026-02-21T13:55:21.318462-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-kax","title":"Add unit tests for context middleware","description":"TESTING: context.ts middleware has 0% test coverage.\n\nLocation: src/middleware/context.ts\n\nTDD Steps:\n- RED: Write tests for: request ID generation (unique per request), geo property extraction from CF object, user-agent parsing\n- GREEN: All tests should pass (implementation exists)\n- REFACTOR: Add edge cases for missing CF properties","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:23.540044-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:35:29.27318-06:00","closed_at":"2026-01-26T11:35:29.27318-06:00","close_reason":"Tests/fixes already implemented","external_ref":"gh-27"}
{"id":"api-nad","title":"Rewrite response envelope to new design shape","description":"Replace current ResponseEnvelope {api, success, data, meta, error, user} with new design: {api, $context, $type, $id, total/limit, links, [semantic_payload_key], actions, options, user}. The payload key should be the type name (contacts, contact, score, etc.) not generic 'data'. Links block at top (HATEOAS: first/prev/next/last/self/home). Actions and options at bottom. Remove 'success' boolean. See design doc: docs/plans/2026-02-21-dotdo-api-redesign-design.md","status":"closed","priority":0,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:31.598759-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:07:09.691756-06:00","closed_at":"2026-02-21T14:07:09.691756-06:00","close_reason":"Implemented and committed"}
{"id":"api-r17","title":"Implement function-call URL syntax with parentheses","description":"Functions use parentheses in URLs: /score(contact_abc), /sendContract(deal_kRziM), /merge(contact_abc,contact_def). Argument auto-detection: https:// = URL, numeric = number, type_sqid = entity ref, comma-separated = array, else = string. Named args (key=value) for disambiguation. Route matching: path contains ( = function call.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:46.889378-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:21:54.625543-06:00","closed_at":"2026-02-21T14:21:54.625543-06:00","close_reason":"Implemented in Wave 3","dependencies":[{"issue_id":"api-r17","depends_on_id":"api-w86","type":"blocks","created_at":"2026-02-21T13:55:20.718834-06:00","created_by":"Nathan Clevenger"}]}
{"id":"api-rbp","title":"Fix SQL injection vulnerability in CRUD convention","description":"CRITICAL SECURITY: Column names from Object.keys(body) are interpolated directly into SQL queries without validation in src/conventions/crud.ts lines 20-30, 106, 129.\n\nTDD Steps:\n- RED: Write test that attempts SQL injection via column name (e.g., 'name; DROP TABLE users--')\n- GREEN: Add column name whitelist validation, reject non-alphanumeric column names\n- REFACTOR: Extract SQL sanitization to shared helper","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:31.062698-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:45:16.87492-06:00","closed_at":"2026-01-24T15:45:16.87492-06:00","close_reason":"Implemented TDD fix with tests"}
{"id":"api-rqg","title":"P1: Add RPC method path validation to prevent prototype access","description":"RPC convention (src/conventions/rpc.ts:39-43) uses method.split('.') to traverse objects without validation. Method like '__proto__.polluted' could access Object prototype. TDD: red (test __proto__ access), green (add path validation), refactor.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-26T11:35:49.331078-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:37:09.923265-06:00","closed_at":"2026-01-26T11:37:09.923265-06:00","close_reason":"Closed"}
{"id":"api-s79","title":"P2: Create error code enum for consistency","description":"Error codes are scattered strings. Create ErrorCode enum/const object in helpers/errors.ts for consistency: VALIDATION_ERROR, NOT_FOUND, UNAUTHORIZED, FORBIDDEN, RATE_LIMITED, INTERNAL_ERROR, etc.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-26T11:35:54.418702-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:39:53.8978-06:00","closed_at":"2026-01-26T11:39:53.8978-06:00","close_reason":"Closed"}
{"id":"api-tju","title":"Add path validation to functions proxy convention","description":"SECURITY: The functions proxy in src/conventions/functions/proxies.ts does not use validateProxyPath() like the main proxy convention, allowing potential SSRF attacks.\n\nLocation: src/conventions/functions/proxies.ts lines 70-73, 124\n\nTDD Steps:\n- RED: Write test attempting path traversal through functions proxy\n- GREEN: Apply validateProxyPath() from src/helpers/path.ts to functions proxy\n- REFACTOR: Ensure consistent path validation across all proxy patterns","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:20.987442-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:35:29.274902-06:00","closed_at":"2026-01-26T11:35:29.274902-06:00","close_reason":"Tests/fixes already implemented","external_ref":"gh-28"}
{"id":"api-vb5","title":"Fix query param type coercion for comparison operators","description":"GET /users?age[$gt]=18 fails because parseFilterValue() returns string '18' not number 18. The $gt operator requires typeof === 'number' for both operands. Fix: call coerceValue() in operator parsing, or add type coercion in matchesWhere comparison operators.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-07T16:00:33.046279-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-08T05:43:44.690976-06:00","closed_at":"2026-02-08T05:43:44.690976-06:00","close_reason":"Implemented in hardening wave"}
{"id":"api-w86","title":"Implement self-describing ID URL routing","description":"Add URL routing for self-describing entity IDs. /~tenant/contacts = collection list (plural). /~tenant/contact_abc = single entity (ID prefix = type). /~tenant/contact_abc/qualify = action on entity. /~tenant/contacts/create = create new. /~tenant/contacts/$schema = meta-resource. Tenant prefix is optional. Routing: known plural = collection, contains _ with known type prefix = entity lookup, contains ( = function call, starts with $ = meta-resource.","status":"closed","priority":0,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-21T13:53:33.811981-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-21T14:07:09.689776-06:00","closed_at":"2026-02-21T14:07:09.689776-06:00","close_reason":"Implemented and committed"}
{"id":"api-x6q","title":"Add unit tests for error helpers","description":"TESTING: helpers/errors.ts has 0% test coverage.\n\nLocation: src/helpers/errors.ts\n\nTDD Steps:\n- RED: Write tests for: notFound(), badRequest(), unauthorized(), forbidden(), rateLimited(), internal() - verify each returns correct status and error code\n- GREEN: All tests should pass\n- REFACTOR: Test with custom messages","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T17:40:24.58805-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-26T11:35:29.270392-06:00","closed_at":"2026-01-26T11:35:29.270392-06:00","close_reason":"Tests/fixes already implemented","external_ref":"gh-29"}
{"id":"api-yq7","title":"Add unit tests for MCP convention","description":"TESTING: MCP convention at src/conventions/mcp.ts has 0% test coverage.\n\nTDD Steps:\n- RED: Write failing tests for: initialize, tools/list, tools/call, resources/list, resources/read, unknown method error, tool handler execution, test/example exposure\n- GREEN: Ensure all tests pass (implementation exists, just needs tests)\n- REFACTOR: Extract test helpers, add edge case tests","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:33.187606-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:49:47.157727-06:00","closed_at":"2026-01-24T15:49:47.157727-06:00","close_reason":"Comprehensive tests implemented"}
{"id":"api-z0e","title":"Add global error boundary middleware","description":"ARCHITECTURE: No global error handling - errors bubble up unhandled. Empty catch blocks in auth.ts and rpc.ts hide errors.\n\nTDD Steps:\n- RED: Write test that throws error in handler, verify unhandled\n- GREEN: Add errorMiddleware() that catches all errors, returns consistent error envelope\n- REFACTOR: Replace empty catch blocks with proper error logging, add error codes","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:32.320021-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:56:18.943684-06:00","closed_at":"2026-01-24T15:56:18.943684-06:00","close_reason":"TDD implementation complete"}
{"id":"api-zn5","title":"Add unit tests for auth middleware","description":"TESTING: Auth middleware at src/middleware/auth.ts has 0% test coverage. Security-critical code.\n\nTDD Steps:\n- RED: Write failing tests for: mode=none allows all, mode=required blocks no token, mode=optional allows no token, snippet trust headers, JWT verification, user info extraction, invalid token rejection\n- GREEN: Ensure all tests pass\n- REFACTOR: Add tests for edge cases (malformed tokens, expired tokens)","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:36.27303-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T15:49:47.127818-06:00","closed_at":"2026-01-24T15:49:47.127818-06:00","close_reason":"Comprehensive tests implemented"}
{"id":"api-zqt","title":"Split functions convention into sub-modules","description":"ARCHITECTURE: src/conventions/functions/index.ts is 986 lines handling 6 different patterns (actions, proxies, packages, mashups, lookups, pipelines). Should be split.\n\nTDD Steps:\n- RED: Write integration tests for each pattern type that currently pass\n- GREEN: Extract each pattern to its own file (actions.ts, proxies.ts, packages.ts, mashups.ts, lookups.ts, pipelines.ts)\n- REFACTOR: Create shared utilities, ensure no circular dependencies","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-24T15:40:29.875268-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-24T16:04:32.092629-06:00","closed_at":"2026-01-24T16:04:32.092629-06:00","close_reason":"TDD implementation complete"}
