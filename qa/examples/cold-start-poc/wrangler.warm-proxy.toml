# Warm Proxy Worker Configuration
# Keeps PGLite warm at the worker level (no DO)

name = "cold-start-warm-proxy"
main = "src/warm-proxy-worker.ts"
compatibility_date = "2026-01-15"
account_id = "b6641681fe423910342b9ffa1364c76d"

# Enable workers.dev subdomain
workers_dev = true

# Node.js compatibility
compatibility_flags = ["nodejs_compat"]

# Rules for handling PGLite WASM and binary data files
[[rules]]
type = "CompiledWasm"
globs = ["**/*.wasm"]

[[rules]]
type = "Data"
globs = ["**/*.data"]

# No DO bindings - this worker handles queries directly
# This is the key difference from other approaches
